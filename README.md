# üì± ShamCRM Mobile

> **–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ CRM-—Å–∏—Å—Ç–µ–º—ã —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–¥–∞–∂–∞–º–∏, —Å–∫–ª–∞–¥–æ–º, —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–º–∏**

[![Flutter Version](https://img.shields.io/badge/Flutter-3.5.3-02569B?logo=flutter)](https://flutter.dev)
[![Dart Version](https://img.shields.io/badge/Dart-3.5.3-0175C2?logo=dart)](https://dart.dev)
[![Version](https://img.shields.io/badge/version-2.1.78-green)]()
[![Build](https://img.shields.io/badge/build-105-blue)]()

---

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û –ø—Ä–æ–µ–∫—Ç–µ](#-–æ-–ø—Ä–æ–µ–∫—Ç–µ)
2. [–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–∫–ª—é—á–µ–≤—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
3. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
4. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
5. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
6. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
7. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
8. [–ú–æ–¥—É–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#-–º–æ–¥—É–ª–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
9. [–†–∞–±–æ—Ç–∞ —Å API](#-—Ä–∞–±–æ—Ç–∞-—Å-api)
10. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (BLoC)](#-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º-bloc)
11. [–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è](#-–ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è)
12. [Firebase –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](#-firebase-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
13. [–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è-–∏-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
14. [–°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#-—Å–±–æ—Ä–∫–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
15. [Troubleshooting](#-troubleshooting)
16. [Code Style –∏ Best Practices](#-code-style-–∏-best-practices)
17. [Contributing](#-contributing)
18. [–ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞](#-–∫–æ–Ω—Ç–∞–∫—Ç—ã-–∏-–ø–æ–¥–¥–µ—Ä–∂–∫–∞)

---

## üéØ –û –ø—Ä–æ–µ–∫—Ç–µ

**ShamCRM Mobile** ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∑–∞–∏–º–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ (CRM), —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –Ω–∞ Flutter. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è:

- üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–¥–∞–∂–∞–º–∏ –∏ –ª–∏–¥–∞–º–∏
- üì¶ –°–∫–ª–∞–¥—Å–∫–æ–≥–æ —É—á–µ—Ç–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç–∞
- üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞
- üí¨ –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π
- üìû –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è call-—Ü–µ–Ω—Ç—Ä–æ–º
- üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏

### –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è

- –ú–µ–Ω–µ–¥–∂–µ—Ä—ã –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º
- –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–∏ –æ—Ç–¥–µ–ª–æ–≤
- –°–∫–ª–∞–¥—Å–∫–∏–µ —Ä–∞–±–æ—Ç–Ω–∏–∫–∏
- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã call-—Ü–µ–Ω—Ç—Ä–∞
- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∫–æ–º–ø–∞–Ω–∏–∏

---

## ‚≠ê –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîπ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∞–º–∏

- **–õ–∏–¥—ã (Leads)**: –ø–æ–ª–Ω—ã–π lifecycle –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- **–°–¥–µ–ª–∫–∏ (Deals)**: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ—Ä–æ–Ω–∫–æ–π –ø—Ä–æ–¥–∞–∂ —Å –∫–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–æ–π
- **–ó–∞–¥–∞—á–∏ (Tasks)**: –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á
- **–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π**: –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–µ—á –∏ –∑–≤–æ–Ω–∫–æ–≤
- **–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π**: –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

### üîπ –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏

- **–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —á–∞—Ç**: –≥—Ä—É–ø–ø–æ–≤—ã–µ –∏ –ª–∏—á–Ω—ã–µ —á–∞—Ç—ã
- **Voice —Å–æ–æ–±—â–µ–Ω–∏—è**: –∑–∞–ø–∏—Å—å –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞—É–¥–∏–æ
- **–§–∞–π–ª—ã –∏ –º–µ–¥–∏–∞**: –æ–±–º–µ–Ω –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- **–®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π**: –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã
- **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è

### üîπ –°–∫–ª–∞–¥ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç

- **–ü—Ä–∏—Ö–æ–¥ —Ç–æ–≤–∞—Ä–∞**: –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–π
- **–ü—Ä–æ–¥–∞–∂–∞ –∫–ª–∏–µ–Ω—Ç—É**: —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö
- **–í–æ–∑–≤—Ä–∞—Ç—ã**: –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º
- **–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏—è**: –º–µ–∂–¥—É —Å–∫–ª–∞–¥–∞–º–∏
- **–°–ø–∏—Å–∞–Ω–∏—è**: —É—á–µ—Ç –ø–æ—Ç–µ—Ä—å
- **–û—Å—Ç–∞—Ç–∫–∏**: real-time –æ—Ç—á–µ—Ç—ã

### üîπ –§–∏–Ω–∞–Ω—Å—ã

- **–ö–∞—Å—Å–∞**: —É—á–µ—Ç –Ω–∞–ª–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–î–æ—Ö–æ–¥—ã/–†–∞—Å—Ö–æ–¥—ã**: –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- **–î–µ–±–∏—Ç–æ—Ä—ã/–ö—Ä–µ–¥–∏—Ç–æ—Ä—ã**: –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–µ–π
- **–û—Ç—á–µ—Ç—ã**: —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

### üîπ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

- **Dashboard**: –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è KPI
- **–ì—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã**: –∫–æ–Ω–≤–µ—Ä—Å–∏—è, —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **–û—Ç—á–µ—Ç—ã –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º**: —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã
- **–í–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂**: –∞–Ω–∞–ª–∏–∑ —ç—Ç–∞–ø–æ–≤

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend Framework

- **Flutter**: `3.5.3` - UI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Dart**: `3.5.3` - —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ State Management

- **flutter_bloc**: `^8.1.6` - BLoC –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **equatable**: `^2.0.5` - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
- **provider**: –¥–ª—è dependency injection

### –°–µ—Ç–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

- **http**: `^1.2.2` - HTTP –∫–ª–∏–µ–Ω—Ç
- **dio**: `^5.7.0` - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π HTTP –∫–ª–∏–µ–Ω—Ç —Å interceptors
- **dart_pusher_channels**: `^1.2.3` - WebSocket –¥–ª—è real-time

### Backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- **firebase_core**: `^3.6.0` - Firebase SDK
- **firebase_messaging**: `^15.2.9` - Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **shared_preferences**: `^2.3.5` - –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **flutter_secure_storage**: `^9.2.2` - –∑–∞—â–∏—â–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

### UI/UX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **dropdown_search**: `^6.0.2` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏
- **fl_chart**: `^0.69.0` - –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã
- **chat_bubbles**: `^1.6.0` - UI –¥–ª—è —á–∞—Ç–æ–≤
- **table_calendar**: `^3.2.0` - –∫–∞–ª–µ–Ω–¥–∞—Ä—å
- **cached_network_image**: `^3.4.1` - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **photo_view**: `^0.15.0` - –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **infinite_scroll_pagination**: `^4.0.0` - –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞
- **modal_bottom_sheet**: `^3.0.0` - –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
- **flutter_slidable**: `^4.0.1` - swipe actions

### –ú–µ–¥–∏–∞ –∏ —Ñ–∞–π–ª—ã

- **just_audio**: `^0.9.18` - –∞—É–¥–∏–æ –ø–ª–µ–µ—Ä
- **audioplayers**: `^6.1.0` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–ª–µ–µ—Ä
- **audio_service**: `^0.18.18` - —Ñ–æ–Ω–æ–≤–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
- **social_media_recorder**: `^1.2.1` - –∑–∞–ø–∏—Å—å –≥–æ–ª–æ—Å–∞
- **file_picker**: `^10.3.3` - –≤—ã–±–æ—Ä —Ñ–∞–π–ª–æ–≤
- **image_picker**: `^1.2.0` - –≤—ã–±–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **image_gallery_saver_plus**: `^4.0.1` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –≥–∞–ª–µ—Ä–µ—é

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- **local_auth**: `^2.3.0` - –±–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **app_tracking_transparency**: `^2.0.6+1` - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è iOS
- **permission_handler**: `^11.4.0` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **mobile_scanner**: `^7.0.1` - QR/Barcode —Å–∫–∞–Ω–µ—Ä
- **connectivity_plus**: `^6.1.4` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **device_info_plus**: `^11.1.1` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- **package_info_plus**: `^8.1.1` - –≤–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **url_launcher**: `^6.3.1` - –æ—Ç–∫—Ä—ã—Ç–∏–µ URL
- **flutter_localization**: `^0.3.1` - –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
- **intl**: `^0.20.2` - –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- **flutter_contacts**: `^1.1.9+2` - –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º
- **vibration**: `^2.0.1` - –≤–∏–±—Ä–∞—Ü–∏—è

### Development Tools

- **flutter_lints**: `^5.0.0` - –ª–∏–Ω—Ç–µ—Ä
- **json_annotation**: `^4.9.0` - JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- **json_serializable**: `^6.11.1` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è JSON –∫–æ–¥–∞
- **build_runner**: `^2.8.0` - code generation

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω: Clean Architecture + BLoC

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ          Presentation Layer             ‚îÇ
‚îÇ  (Screens, Widgets, BLoC State)         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ          Business Logic Layer           ‚îÇ
‚îÇ     (BLoC, Events, States, Cubits)      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ          Data Layer                     ‚îÇ
‚îÇ  (API Services, Models, Repositories)   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ          External Services              ‚îÇ
‚îÇ  (Firebase, REST API, WebSocket)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **Separation of Concerns**: —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏
2. **Single Responsibility**: –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
3. **Dependency Injection**: —á–µ—Ä–µ–∑ Provider/BlocProvider
4. **Reactive Programming**: BLoC streams –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π
5. **Immutable State**: –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å Equatable

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

- **macOS**: 12.0+ (–¥–ª—è iOS —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- **Windows**: 10+ / **Linux**: Ubuntu 20.04+
- **RAM**: –º–∏–Ω–∏–º—É–º 8GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 16GB)
- **Disk**: 10GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

#### SDK –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

- **Flutter SDK**: `3.5.3` –∏–ª–∏ –≤—ã—à–µ
- **Dart SDK**: `3.5.3` (–≤—Ö–æ–¥–∏—Ç –≤ Flutter)
- **Android Studio**: –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è
  - Android SDK: API 21-35
  - Gradle: 8.x
  - Kotlin: 1.9+
- **Xcode**: 15+ (—Ç–æ–ª—å–∫–æ macOS, –¥–ª—è iOS)
- **VS Code** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): —Å Flutter/Dart –ø–ª–∞–≥–∏–Ω–∞–º–∏

#### –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

- **Android**: 5.0 (API 21) –∏ –≤—ã—à–µ
- **iOS**: 12.0 –∏ –≤—ã—à–µ

### Firebase –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Firebase. –ù–µ–æ–±—Ö–æ–¥–∏–º—ã —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- `android/app/google-services.json`
- `ios/Runner/GoogleService-Info.plist`
- `lib/firebase_options.dart`

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd shamcrm_mobile
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Flutter

–ï—Å–ª–∏ Flutter –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

```bash
# macOS/Linux
git clone https://github.com/flutter/flutter.git -b stable
export PATH="$PATH:`pwd`/flutter/bin"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
flutter doctor
```

**–í–∞–∂–Ω–æ**: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `flutter doctor` –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫.

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤
flutter pub get

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ (–¥–ª—è JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏)
flutter pub run build_runner build --delete-conflicting-outputs
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firebase

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

–§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É–∂–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ:
- `android/app/google-services.json` ‚úÖ
- `ios/Runner/GoogleService-Info.plist` ‚úÖ  
- `lib/firebase_options.dart` ‚úÖ

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ù–æ–≤—ã–π Firebase –ø—Ä–æ–µ–∫—Ç

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Firebase CLI
npm install -g firebase-tools

# –í—Ö–æ–¥ –≤ Firebase
firebase login

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è FlutterFire
dart pub global activate flutterfire_cli
flutterfire configure
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Android

#### android/local.properties

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç:

```properties
sdk.dir=/Users/YOUR_USERNAME/Library/Android/sdk
flutter.sdk=/Users/YOUR_USERNAME/flutter
```

#### Signing –∫–ª—é—á (–¥–ª—è —Ä–µ–ª–∏–∑–∞)

–ö–ª—é—á —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `android/app/build.gradle`:

```gradle
signingConfigs {
    release {
        storeFile file("key.keystore")
        storePassword "123456"
        keyAlias "keyalias"
        keyPassword "123456"
    }
}
```

‚ö†Ô∏è **–í–ê–ñ–ù–û**: –î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –∏ —Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!

### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ iOS

```bash
cd ios
pod install
cd ..
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è iOS:**
- macOS —Å Xcode 15+
- –ê–∫—Ç–∏–≤–Ω–∞—è —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å Apple Developer (–¥–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤)
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ Signing Certificates –≤ Xcode

### 7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Environment)

#### API –±–∞–∑–æ–≤—ã–π URL

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `lib/api/service/api_service.dart`. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ–º–µ–Ω –≤–≤–æ–¥–∏—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑:
- QR-–∫–æ–¥ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –†—É—á–Ω–æ–π –≤–≤–æ–¥ –¥–æ–º–µ–Ω–∞

#### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è):

```env
API_BASE_URL=https://your-api-domain.com
PUSHER_KEY=your_pusher_key
PUSHER_CLUSTER=your_cluster
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
shamcrm_mobile/
‚îú‚îÄ‚îÄ android/                      # Android –Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/main/kotlin/     # Kotlin –∫–æ–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ build.gradle         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ key.keystore         # Signing –∫–ª—é—á
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ google-services.json # Firebase –∫–æ–Ω—Ñ–∏–≥
‚îÇ   ‚îî‚îÄ‚îÄ build.gradle             # Gradle –∫–æ—Ä–Ω–µ–≤–æ–π
‚îú‚îÄ‚îÄ ios/                         # iOS –Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ Runner/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Info.plist           # iOS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GoogleService-Info.plist
‚îÇ   ‚îú‚îÄ‚îÄ Podfile                  # CocoaPods –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ Runner.xcworkspace       # Xcode workspace
‚îú‚îÄ‚îÄ assets/                      # –†–µ—Å—É—Ä—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ icons/                   # –ò–∫–æ–Ω–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MyNavBar/           # –ù–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AppBar/             # AppBar –∏–∫–æ–Ω–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chats/              # –ß–∞—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ files/              # –¢–∏–ø—ã —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ fonts/                   # –®—Ä–∏—Ñ—Ç—ã (Gilroy, Golos)
‚îÇ   ‚îú‚îÄ‚îÄ images/                  # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ audio/                   # –ê—É–¥–∏–æ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ langs/                   # –ü–µ—Ä–µ–≤–æ–¥—ã (ru, en, uz)
‚îÇ       ‚îú‚îÄ‚îÄ ru.json
‚îÇ       ‚îú‚îÄ‚îÄ en.json
‚îÇ       ‚îî‚îÄ‚îÄ uz.json
‚îú‚îÄ‚îÄ lib/                         # Dart –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ main.dart                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ api/                     # API —Å–ª–æ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ api_service.dart          # –û—Å–Ω–æ–≤–Ω–æ–π API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ api_service_chats.dart    # –ß–∞—Ç—ã API
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ firebase_api.dart         # Firebase —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ secure_storage_service.dart
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ biometric_service.dart
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ gps_tracker_service.dart
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ widget_service.dart
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ internet_monitor_service.dart
‚îÇ   ‚îú‚îÄ‚îÄ bloc/                    # BLoC state management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth_domain/         # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–æ–º–µ–Ω–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login/               # –õ–æ–≥–∏–Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lead/                # –õ–∏–¥—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deal/                # –°–¥–µ–ª–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ task/                # –ó–∞–¥–∞—á–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ my-task/             # –ú–æ–∏ –∑–∞–¥–∞—á–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chats/               # –ß–∞—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/           # –î–∞—à–±–æ—Ä–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notifications/       # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ organization/        # –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile/             # –ü—Ä–æ—Ñ–∏–ª—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page_2_BLOC/         # –°–∫–ª–∞–¥ –∏ —Ç–æ–≤–∞—Ä—ã BLoCs
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ goods/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ category/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ document/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dashboard/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...                  # –î—Ä—É–≥–∏–µ BLoCs
‚îÇ   ‚îú‚îÄ‚îÄ models/                  # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lead_model.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deal_model.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ task_model.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chats_model.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_model.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ money/               # –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page_2/              # –°–∫–ª–∞–¥ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dashboard_charts_models/
‚îÇ   ‚îú‚îÄ‚îÄ screens/                 # UI —ç–∫—Ä–∞–Ω—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/                # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pin_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pin_setup_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ qr_scanner_screen.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home_screen.dart     # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lead/                # –≠–∫—Ä–∞–Ω—ã –ª–∏–¥–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deal/                # –≠–∫—Ä–∞–Ω—ã —Å–¥–µ–ª–æ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ task/                # –≠–∫—Ä–∞–Ω—ã –∑–∞–¥–∞—á
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ my-task/             # –ú–æ–∏ –∑–∞–¥–∞—á–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chats/               # –ß–∞—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/           # –î–∞—à–±–æ—Ä–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ event/               # –°–æ–±—ã—Ç–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile/             # –ü—Ä–æ—Ñ–∏–ª—å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MyNavBar.dart        # –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ page_2/                  # –ú–æ–¥—É–ª—å —Å–∫–ª–∞–¥–∞/—Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main_screen.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ goods/               # –¢–æ–≤–∞—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ category/            # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order/               # –ó–∞–∫–∞–∑—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ warehouse/           # –°–∫–ª–∞–¥
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ incoming/        # –ü—Ä–∏—Ö–æ–¥
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client_sale/     # –ü—Ä–æ–¥–∞–∂–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ movement/        # –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ write_off/       # –°–ø–∏—Å–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ money/               # –§–∏–Ω–∞–Ω—Å—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ call_center/         # –ö–æ–ª–ª-—Ü–µ–Ω—Ç—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dashboard/           # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å–∫–ª–∞–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ custom_widget/           # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–∏–¥–∂–µ—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ custom_app_bar.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ custom_button.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ custom_textfield.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ filter/              # –§–∏–ª—å—Ç—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ calendar/            # –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ widgets/                 # –û–±—â–∏–µ –≤–∏–¥–∂–µ—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bottom_navy_bar.dart
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ utils/                   # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app_colors.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ global_fun.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ global_value.dart
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ parser.dart
‚îÇ   ‚îú‚îÄ‚îÄ generated/               # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ l10n.dart
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ intl/
‚îÇ   ‚îú‚îÄ‚îÄ firebase_options.dart    # Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ error_interceptor.dart   # –ü–µ—Ä–µ—Ö–≤–∞—Ç –æ—à–∏–±–æ–∫ API
‚îÇ   ‚îî‚îÄ‚îÄ update_dialog.dart       # –î–∏–∞–ª–æ–≥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ test/                        # –¢–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ widget_test.dart
‚îú‚îÄ‚îÄ pubspec.yaml                 # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ pubspec.lock                 # Locked –≤–µ—Ä—Å–∏–∏
‚îú‚îÄ‚îÄ analysis_options.yaml        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ firebase.json                # Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md                    # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

| –§–∞–π–ª/–ü–∞–ø–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|
| `lib/main.dart` | –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏ |
| `lib/api/service/api_service.dart` | –û—Å–Ω–æ–≤–Ω–æ–π HTTP –∫–ª–∏–µ–Ω—Ç, –≤—Å–µ API endpoints |
| `lib/screens/home_screen.dart` | –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∏ permissions |
| `lib/models/` | Data Transfer Objects (DTO) –∏ –º–æ–¥–µ–ª–∏ |
| `lib/bloc/` | BLoC —Ñ–∞–π–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è |
| `assets/langs/` | JSON —Ñ–∞–π–ª—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ |
| `pubspec.yaml` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ |

---

## üß© –ú–æ–¥—É–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 1. –ú–æ–¥—É–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (Auth)

**–§–∞–π–ª—ã:**
- `lib/screens/auth/`
- `lib/bloc/auth_domain/`
- `lib/bloc/login/`
- `lib/bloc/auth_bloc_pin/`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –í—Ö–æ–¥ –ø–æ QR-–∫–æ–¥—É
- ‚úÖ –†—É—á–Ω–æ–π –≤–≤–æ–¥ –¥–æ–º–µ–Ω–∞
- ‚úÖ –õ–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å
- ‚úÖ PIN-–∫–æ–¥ (4-6 —Ü–∏—Ñ—Ä)
- ‚úÖ –ë–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Face ID, Touch ID, Fingerprint)
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ PIN —á–µ—Ä–µ–∑ email
- ‚úÖ –ú—É–ª—å—Ç–∏–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è

**–ü—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**

```
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–∞ ‚Üí 2. –í—Ö–æ–¥ (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å) ‚Üí 3. –í—ã–±–æ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ ‚Üí 
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PIN ‚Üí 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∏–æ–º–µ—Ç—Ä–∏–∏ ‚Üí 6. –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
```

### 2. –ú–æ–¥—É–ª—å –ª–∏–¥–æ–≤ (Leads)

**–§–∞–π–ª—ã:**
- `lib/screens/lead/`
- `lib/bloc/lead/`
- `lib/models/lead_model.dart`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –ö–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–∞ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–∏–¥–æ–≤
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –ó–∞–º–µ—Ç–∫–∏ –∏ —Ñ–∞–π–ª—ã
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ —Å–¥–µ–ª–∫—É
- ‚úÖ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- ‚úÖ –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –ª–∏–¥–æ–≤
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ –∫–æ–Ω—Ç–∞–∫—Ç—ã

**–°—Ç–∞—Ç—É—Å—ã –ª–∏–¥–æ–≤:** –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ

### 3. –ú–æ–¥—É–ª—å —Å–¥–µ–ª–æ–∫ (Deals)

**–§–∞–π–ª—ã:**
- `lib/screens/deal/`
- `lib/bloc/deal/`
- `lib/models/deal_model.dart`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –í–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂ (–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è)
- ‚úÖ –≠—Ç–∞–ø—ã —Å–¥–µ–ª–∫–∏
- ‚úÖ –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç—ã –∏ —Ñ–∞–π–ª—ã
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π
- ‚úÖ –ü—Ä–æ–≥–Ω–æ–∑ —Å–¥–µ–ª–∫–∏
- ‚úÖ –°–≤—è–∑—å —Å –ª–∏–¥–æ–º

### 4. –ú–æ–¥—É–ª—å –∑–∞–¥–∞—á (Tasks)

**–§–∞–π–ª—ã:**
- `lib/screens/task/` - –ó–∞–¥–∞—á–∏ –¥–ª—è –≤—Å–µ—Ö
- `lib/screens/my-task/` - –ú–æ–∏ –∑–∞–¥–∞—á–∏
- `lib/bloc/task/`, `lib/bloc/my-task/`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á
- ‚úÖ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã (–≤—ã—Å–æ–∫–∏–π, —Å—Ä–µ–¥–Ω–∏–π, –Ω–∏–∑–∫–∏–π)
- ‚úÖ –î–µ–¥–ª–∞–π–Ω—ã
- ‚úÖ –°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞—á
- ‚úÖ –ü–æ–¥–∑–∞–¥–∞—á–∏
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- ‚úÖ –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –°–≤—è–∑—å —Å –ª–∏–¥–∞–º–∏/—Å–¥–µ–ª–∫–∞–º–∏
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ—Å—Ä–æ—á–∫–µ

### 5. –ú–æ–¥—É–ª—å —á–∞—Ç–æ–≤ (Chats)

**–§–∞–π–ª—ã:**
- `lib/screens/chats/`
- `lib/bloc/chats/`
- `lib/api/service/api_service_chats.dart`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –õ–∏—á–Ω—ã–µ —á–∞—Ç—ã (1-–Ω–∞-1)
- ‚úÖ –ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã
- ‚úÖ –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —á–∞—Ç—ã
- ‚úÖ –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—Å rich text)
- ‚úÖ Voice —Å–æ–æ–±—â–µ–Ω–∏—è (–∑–∞–ø–∏—Å—å –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ)
- ‚úÖ –§–∞–π–ª—ã –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ —á–∞—Ç–∞–º
- ‚úÖ –ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ —Å—á–µ—Ç—á–∏–∫–∏
- ‚úÖ Typing indicators
- ‚úÖ Real-time —á–µ—Ä–µ–∑ Pusher

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- Pusher Channels –¥–ª—è WebSocket
- Firebase Messaging –¥–ª—è push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 6. –ú–æ–¥—É–ª—å Dashboard

**–§–∞–π–ª—ã:**
- `lib/screens/dashboard/`
- `lib/screens/dashboard_for_manager/`
- `lib/bloc/dashboard/`

**–ú–µ—Ç—Ä–∏–∫–∏:**
- üìä –ì—Ä–∞—Ñ–∏–∫ –ª–∏–¥–æ–≤ (–ø–æ –¥–∞—Ç–∞–º)
- üìà –ö–æ–Ω–≤–µ—Ä—Å–∏—è (–ª–∏–¥—ã ‚Üí —Å–¥–µ–ª–∫–∏)
- ‚è± –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏
- üìâ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–¥–µ–ª–æ–∫
- üë• –ó–∞–¥–∞—á–∏ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- üéØ –í–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂

**–ì—Ä–∞—Ñ–∏–∫–∏:** fl_chart —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é

### 7. –ú–æ–¥—É–ª—å —Å–∫–ª–∞–¥–∞ (Warehouse/Page 2)

**–§–∞–π–ª—ã:**
- `lib/page_2/warehouse/`
- `lib/bloc/page_2_BLOC/document/`

#### –î–æ–∫—É–º–µ–Ω—Ç—ã:

**–ü—Ä–∏—Ö–æ–¥ (Incoming)**
```dart
lib/page_2/warehouse/incoming/
```
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–π
- –í—ã–±–æ—Ä –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
- –¶–µ–Ω—ã –∑–∞–∫—É–ø–∫–∏
- –ò—Å—Ç–æ—Ä–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–ü—Ä–æ–¥–∞–∂–∞ –∫–ª–∏–µ–Ω—Ç—É (Client Sale)**
```dart
lib/page_2/warehouse/client_sale/
```
- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂–∏
- –í—ã–±–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ (–ª–∏–¥–∞)
- –¢–æ–≤–∞—Ä—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- –¢–∏–ø—ã —Ü–µ–Ω
- –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã

**–í–æ–∑–≤—Ä–∞—Ç—ã**
- –í–æ–∑–≤—Ä–∞—Ç –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞
- –í–æ–∑–≤—Ä–∞—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫—É

**–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏—è (Movement)**
- –ú–µ–∂–¥—É —Å–∫–ª–∞–¥–∞–º–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –ø—Ä–∏—á–∏–Ω–∞

**–°–ø–∏—Å–∞–Ω–∏–µ (Write-off)**
- –ü—Ä–∏—á–∏–Ω–∞ —Å–ø–∏—Å–∞–Ω–∏—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ

### 8. –ú–æ–¥—É–ª—å —Ç–æ–≤–∞—Ä–æ–≤ (Goods)

**–§–∞–π–ª—ã:**
- `lib/page_2/goods/`
- `lib/bloc/page_2_BLOC/goods/`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç—ã (—Ä–∞–∑–º–µ—Ä—ã, —Ü–≤–µ—Ç–∞)
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ü–µ–Ω—ã
- ‚úÖ –û—Å—Ç–∞—Ç–∫–∏ –ø–æ —Å–∫–ª–∞–¥–∞–º
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –®—Ç—Ä–∏—Ö-–∫–æ–¥—ã
- ‚úÖ –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è

### 9. –ú–æ–¥—É–ª—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤ (Money)

**–§–∞–π–ª—ã:**
- `lib/page_2/money/`
- `lib/bloc/cash_desk/`, `lib/bloc/income/`, `lib/bloc/expense/`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

**–ö–∞—Å—Å–∞ (Cash Desk)**
- –°–ø–∏—Å–æ–∫ –∫–∞—Å—Å
- –û—Å—Ç–∞—Ç–∫–∏
- –û–ø–µ—Ä–∞—Ü–∏–∏

**–î–æ—Ö–æ–¥—ã (Income)**
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Ö–æ–¥–æ–≤
- –î–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–ª–∏–µ–Ω—Ç–∞–º

**–†–∞—Å—Ö–æ–¥—ã (Expense)**
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤
- –î–æ–∫—É–º–µ–Ω—Ç—ã —Ä–∞—Å—Ö–æ–¥–∞
- –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏

### 10. –ú–æ–¥—É–ª—å Call-—Ü–µ–Ω—Ç—Ä

**–§–∞–π–ª—ã:**
- `lib/page_2/call_center/`
- `lib/bloc/call_bloc/`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- üìû –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–≤–æ–Ω–∫–æ–≤
- üë§ –û–ø–µ—Ä–∞—Ç–æ—Ä—ã
- üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
- ‚è± –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
- üìà –ö–æ–Ω–≤–µ—Ä—Å–∏—è –∑–≤–æ–Ω–∫–æ–≤

### 11. –ú–æ–¥—É–ª—å —Å–æ–±—ã—Ç–∏–π (Events)

**–§–∞–π–ª—ã:**
- `lib/screens/event/`
- `lib/bloc/event/`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –í—Å—Ç—Ä–µ—á–∏, –∑–≤–æ–Ω–∫–∏, –∑–∞–¥–∞—á–∏
- üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏
- üìç –õ–æ–∫–∞—Ü–∏–∏
- üîî –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

### 12. –ú–æ–¥—É–ª—å –ø—Ä–æ—Ñ–∏–ª—è (Profile)

**–§–∞–π–ª—ã:**
- `lib/screens/profile/`
- `lib/bloc/profile/`

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
- üë§ –î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è
- üåê –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- üè¢ –°–º–µ–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- üîê –ò–∑–º–µ–Ω–µ–Ω–∏–µ PIN
- üÜî –ë–∏–æ–º–µ—Ç—Ä–∏—è
- üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö 1–°
- üì§ –í—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞

---

## üåê –†–∞–±–æ—Ç–∞ —Å API

### –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API Service

**–§–∞–π–ª:** `lib/api/service/api_service.dart`

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

1. **Dynamic Domain**: –¥–æ–º–µ–Ω –≤–≤–æ–¥–∏—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
2. **Token-based Auth**: Bearer —Ç–æ–∫–µ–Ω—ã
3. **Organization Context**: –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å —Å ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
4. **Error Handling**: —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–≤–∞—Ç –æ—à–∏–±–æ–∫
5. **Interceptors**: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, refresh token

### –ü—Ä–∏–º–µ—Ä API –∑–∞–ø—Ä–æ—Å–∞

```dart
// –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–∏–¥–æ–≤
Future<LeadResponse> getLeads({
  required int page,
  required int limit,
  String? search,
  List<int>? statusIds,
}) async {
  final response = await http.get(
    Uri.parse('$baseUrl/leads?page=$page&limit=$limit'),
    headers: await _getHeaders(),
  );
  
  if (response.statusCode == 200) {
    return LeadResponse.fromJson(jsonDecode(response.body));
  } else {
    throw ApiException.fromResponse(response);
  }
}
```

### –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/auth/login` | POST | –õ–æ–≥–∏–Ω |
| `/leads` | GET | –°–ø–∏—Å–æ–∫ –ª–∏–¥–æ–≤ |
| `/leads/{id}` | GET | –î–µ—Ç–∞–ª–∏ –ª–∏–¥–∞ |
| `/leads` | POST | –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏–¥–∞ |
| `/deals` | GET | –°–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫ |
| `/tasks` | GET | –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á |
| `/chats` | GET | –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ |
| `/chats/{id}/messages` | GET | –°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞ |
| `/goods` | GET | –¢–æ–≤–∞—Ä—ã |
| `/documents/incoming` | POST | –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∞ |
| `/dashboard/charts` | GET | –î–∞–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ |

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```dart
try {
  final leads = await apiService.getLeads();
} on ApiException catch (e) {
  if (e.statusCode == 401) {
    // –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ª–æ–≥–∏–Ω
    Navigator.pushReplacementNamed(context, '/login');
  } else {
    // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(content: Text(e.message)),
    );
  }
} catch (e) {
  // –û–±—â–∞—è –æ—à–∏–±–∫–∞
  print('Unexpected error: $e');
}
```

### Pagination

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–ø–∏—Å–∫–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é:

```dart
PaginationDto({
  required this.currentPage,
  required this.totalPages,
  required this.totalCount,
  required this.data,
});
```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `infinite_scroll_pagination` –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏.

---

## üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (BLoC)

### –ü–∞—Ç—Ç–µ—Ä–Ω BLoC

**BLoC = Business Logic Component**

–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç:
- **Bloc**: –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **Event**: –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è
- **State**: —Å–æ—Å—Ç–æ—è–Ω–∏—è UI

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ BLoC —Ñ–∞–π–ª–∞

**–ü—Ä–∏–º–µ—Ä:** `lib/bloc/lead/lead_bloc.dart`

```dart
// Events
abstract class LeadEvent extends Equatable {}

class FetchLeadsEvent extends LeadEvent {
  final int page;
  FetchLeadsEvent(this.page);
  
  @override
  List<Object> get props => [page];
}

// States
abstract class LeadState extends Equatable {}

class LeadInitial extends LeadState {
  @override
  List<Object> get props => [];
}

class LeadLoading extends LeadState {
  @override
  List<Object> get props => [];
}

class LeadLoaded extends LeadState {
  final List<Lead> leads;
  LeadLoaded(this.leads);
  
  @override
  List<Object> get props => [leads];
}

class LeadError extends LeadState {
  final String message;
  LeadError(this.message);
  
  @override
  List<Object> get props => [message];
}

// Bloc
class LeadBloc extends Bloc<LeadEvent, LeadState> {
  final ApiService apiService;
  
  LeadBloc(this.apiService) : super(LeadInitial()) {
    on<FetchLeadsEvent>(_onFetchLeads);
  }
  
  Future<void> _onFetchLeads(
    FetchLeadsEvent event,
    Emitter<LeadState> emit,
  ) async {
    emit(LeadLoading());
    try {
      final leads = await apiService.getLeads(page: event.page);
      emit(LeadLoaded(leads));
    } catch (e) {
      emit(LeadError(e.toString()));
    }
  }
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ BLoC –≤ UI

```dart
class LeadScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return BlocBuilder<LeadBloc, LeadState>(
      builder: (context, state) {
        if (state is LeadLoading) {
          return CircularProgressIndicator();
        } else if (state is LeadLoaded) {
          return ListView.builder(
            itemCount: state.leads.length,
            itemBuilder: (context, index) {
              return LeadCard(lead: state.leads[index]);
            },
          );
        } else if (state is LeadError) {
          return Text('Error: ${state.message}');
        }
        return Container();
      },
    );
  }
}

// –í—ã–∑–æ–≤ —Å–æ–±—ã—Ç–∏—è
context.read<LeadBloc>().add(FetchLeadsEvent(1));
```

### –û—Å–Ω–æ–≤–Ω—ã–µ BLoCs –≤ –ø—Ä–æ–µ–∫—Ç–µ

| BLoC | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å |
|------|----------------|
| `DomainBloc` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞ |
| `LoginBloc` | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
| `LeadBloc` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–¥–∞–º–∏ |
| `DealBloc` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∞–º–∏ |
| `TaskBloc` | –ó–∞–¥–∞—á–∏ |
| `ChatsBloc` | –ß–∞—Ç—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è |
| `OrganizationBloc` | –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ |
| `NotificationBloc` | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è |
| `ProfileBloc` | –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `GoodsBloc` | –¢–æ–≤–∞—Ä—ã |
| `IncomingBloc` | –ü—Ä–∏—Ö–æ–¥–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã |
| `ClientSaleBloc` | –î–æ–∫—É–º–µ–Ω—Ç—ã –ø—Ä–æ–¥–∞–∂–∏ |

---

## üåç –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏

- üá∑üá∫ –†—É—Å—Å–∫–∏–π (ru) - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- üá∫üáø –£–∑–±–µ–∫—Å–∫–∏–π (uz)
- üá¨üáß –ê–Ω–≥–ª–∏–π—Å–∫–∏–π (en)

### –§–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `assets/langs/`

- `ru.json` - —Ä—É—Å—Å–∫–∏–π (1900+ —Å—Ç—Ä–æ–∫)
- `uz.json` - —É–∑–±–µ–∫—Å–∫–∏–π
- `en.json` - –∞–Ω–≥–ª–∏–π—Å–∫–∏–π

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON

```json
{
  "language": "–Ø–∑—ã–∫",
  "close": "–ó–∞–∫—Ä—ã—Ç—å",
  "save": "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",
  "cancel": "–û—Ç–º–µ–Ω–∞",
  "leads": "–õ–∏–¥—ã",
  "deals": "–°–¥–µ–ª–∫–∏",
  ...
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```dart
import 'package:crm_task_manager/screens/profile/languages/app_localizations.dart';

// –í –≤–∏–¥–∂–µ—Ç–µ
Text(AppLocalizations.of(context)?.translate('leads') ?? 'Leads')

// –ò–ª–∏ –∫–æ—Ä–æ—Ç–∫–∞—è —Ñ–æ—Ä–º–∞
final localizations = AppLocalizations.of(context);
Text(localizations?.translate('save') ?? 'Save')
```

### –°–º–µ–Ω–∞ —è–∑—ã–∫–∞

```dart
import 'package:crm_task_manager/main.dart';

// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–π —è–∑—ã–∫
MyApp.setLocale(context, Locale('uz'));

// –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ SharedPreferences
await LanguageManager.setLanguage('uz');
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ `assets/langs/ru.json` (–∏–ª–∏ –¥—Ä—É–≥–æ–π —è–∑—ã–∫)
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ:
   ```json
   "new_feature_title": "–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è"
   ```
3. –î–æ–±–∞–≤—å—Ç–µ –≤ –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏ (`uz.json`, `en.json`)
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –∫–æ–¥–µ:
   ```dart
   localizations?.translate('new_feature_title')
   ```

---

## üî• Firebase –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã

1. **Firebase Core** - –±–∞–∑–æ–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
2. **Firebase Messaging (FCM)** - push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `lib/firebase_options.dart` - –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
- `android/app/google-services.json` - Android
- `ios/Runner/GoogleService-Info.plist` - iOS
- `firebase.json` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–≤ main.dart)

```dart
await Firebase.initializeApp(
  options: DefaultFirebaseOptions.currentPlatform,
);
```

### Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:**

```dart
// 1. Background handler (–≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å —Ñ–∞–π–ª–∞)
@pragma('vm:entry-point')
Future<void> _firebaseMessagingBackgroundHandler(RemoteMessage message) async {
  await Firebase.initializeApp();
  print('Background message: ${message.data}');
}

// 2. Foreground messages
FirebaseMessaging.onMessage.listen((RemoteMessage message) {
  print('Foreground message: ${message.data}');
  // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
});

// 3. Tap –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (app in background)
FirebaseMessaging.onMessageOpenedApp.listen((RemoteMessage message) {
  print('Notification tapped: ${message.data}');
  // –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ –Ω—É–∂–Ω—ã–π —ç–∫—Ä–∞–Ω
  _handleNotificationNavigation(message.data);
});

// 4. Initial message (app opened from terminated state)
RemoteMessage? initialMessage = await FirebaseMessaging.instance.getInitialMessage();
if (initialMessage != null) {
  _handleNotificationNavigation(initialMessage.data);
}
```

### –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–§–∞–π–ª:** `lib/api/service/firebase_api.dart`

```dart
void handleMessage(RemoteMessage message) {
  final String? type = message.data['type'];
  final String? id = message.data['id'];
  
  switch (type) {
    case 'lead':
      navigatorKey.currentState?.pushNamed('/lead_details', arguments: id);
      break;
    case 'deal':
      navigatorKey.currentState?.pushNamed('/deal_details', arguments: id);
      break;
    case 'task':
      navigatorKey.currentState?.pushNamed('/task_details', arguments: id);
      break;
    case 'chat':
      navigatorKey.currentState?.pushNamed('/chat', arguments: id);
      break;
  }
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ FCM —Ç–æ–∫–µ–Ω–∞

```dart
String? token = await FirebaseMessaging.instance.getToken();
// –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
await apiService.sendDeviceToken(token!);
```

### –†–∞–∑—Ä–µ—à–µ–Ω–∏—è (iOS)

```dart
NotificationSettings settings = await FirebaseMessaging.instance.requestPermission(
  alert: true,
  badge: true,
  sound: true,
);

if (settings.authorizationStatus == AuthorizationStatus.authorized) {
  print('Permissions granted');
}
```

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

#### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–∞

**–°–ø–æ—Å–æ–±—ã –≤–≤–æ–¥–∞:**
- QR-–∫–æ–¥ (—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –†—É—á–Ω–æ–π –≤–≤–æ–¥ (URL)

**–•—Ä–∞–Ω–µ–Ω–∏–µ:**
```dart
// Secure Storage
await secureStorage.write(key: 'verified_domain', value: domain);
await secureStorage.write(key: 'main_domain', value: mainDomain);
```

#### 2. –õ–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å

```dart
final response = await apiService.login(
  login: username,
  password: password,
);

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
await apiService.saveToken(response.token);
```

#### 3. –í—ã–±–æ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º:

```dart
await apiService.setSelectedOrganization(organizationId);
```

#### 4. PIN-–∫–æ–¥

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:** 4-6 —Ü–∏—Ñ—Ä

```dart
// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ PIN (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
await authService.setPin(pinCode);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ PIN
bool isValid = await authService.verifyPin(enteredPin);
```

**–§–∞–π–ª—ã:**
- `lib/screens/auth/pin_setup_screen.dart` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- `lib/screens/auth/pin_screen.dart` - –≤–≤–æ–¥
- `lib/screens/auth/pin_change_screen.dart` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ

#### 5. –ë–∏–æ–º–µ—Ç—Ä–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–¢–∏–ø—ã:**
- Face ID (iOS)
- Touch ID (iOS)
- Fingerprint (Android)
- Face Unlock (Android)

```dart
import 'package:local_auth/local_auth.dart';

final LocalAuthentication auth = LocalAuthentication();

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
bool canCheckBiometrics = await auth.canCheckBiometrics;

// –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
bool authenticated = await auth.authenticate(
  localizedReason: '–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤—Ö–æ–¥ –≤ ShamCRM',
  options: const AuthenticationOptions(
    biometricOnly: true,
    stickyAuth: true,
  ),
);
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Secure Storage)

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:**
- –¢–æ–∫–µ–Ω–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- PIN-–∫–æ–¥–æ–≤
- –î–æ–º–µ–Ω–æ–≤
- –ü—Ä–∏–≤–∞—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```dart
import 'package:flutter_secure_storage/flutter_secure_storage.dart';

const storage = FlutterSecureStorage();

// –ó–∞–ø–∏—Å—å
await storage.write(key: 'token', value: authToken);

// –ß—Ç–µ–Ω–∏–µ
String? token = await storage.read(key: 'token');

// –£–¥–∞–ª–µ–Ω–∏–µ
await storage.delete(key: 'token');

// –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ–≥–æ
await storage.deleteAll();
```

### Session Management

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ:**

```dart
Future<SessionValidationResult> _validateApplicationSession() async {
  // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
  final token = await apiService.getToken();
  if (token == null) return SessionValidationResult(isValid: false);
  
  // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–∞
  final domain = await apiService.getVerifiedDomain();
  if (domain == null) return SessionValidationResult(isValid: false);
  
  // 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  final orgId = await apiService.getSelectedOrganization();
  
  return SessionValidationResult(isValid: true);
}
```

**–í—ã—Ö–æ–¥ (Logout):**

```dart
Future<void> logout() async {
  await apiService.logout(); // –ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  await apiService.reset(); // –û—á–∏—Å—Ç–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  await authService.clearPin();
  await storage.deleteAll();
  
  Navigator.pushReplacementNamed(context, '/login');
}
```

### Refresh Token

–ï—Å–ª–∏ API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç refresh tokens:

```dart
Future<void> refreshAccessToken() async {
  final refreshToken = await storage.read(key: 'refresh_token');
  final response = await http.post(
    Uri.parse('$baseUrl/auth/refresh'),
    body: {'refresh_token': refreshToken},
  );
  
  if (response.statusCode == 200) {
    final newToken = jsonDecode(response.body)['access_token'];
    await storage.write(key: 'token', value: newToken);
  } else {
    // –¢–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–µ–Ω, –≤—ã–π—Ç–∏
    await logout();
  }
}
```

---

## üî® –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### Development —Å–±–æ—Ä–∫–∞

#### Android

```bash
# Debug APK
flutter build apk --debug

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
flutter install

# –ò–ª–∏ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
flutter run
```

#### iOS

```bash
# Debug –Ω–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä
flutter run

# Debug –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
flutter run --release
```

### Production —Å–±–æ—Ä–∫–∞

#### Android (APK)

```bash
# Release APK (–¥–ª—è –≤—Å–µ—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä)
flutter build apk --release

# Split APKs (–ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞–º, –º–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä)
flutter build apk --split-per-abi --release

# –í—ã–≤–æ–¥:
# build/app/outputs/flutter-apk/app-release.apk
# build/app/outputs/flutter-apk/app-armeabi-v7a-release.apk
# build/app/outputs/flutter-apk/app-arm64-v8a-release.apk
# build/app/outputs/flutter-apk/app-x86_64-release.apk
```

#### Android (App Bundle –¥–ª—è Google Play)

```bash
# AAB —Ñ–∞–π–ª
flutter build appbundle --release

# –í—ã–≤–æ–¥:
# build/app/outputs/bundle/release/app-release.aab
```

#### iOS (–¥–ª—è App Store)

```bash
# Build
flutter build ios --release

# –ò–ª–∏ —á–µ—Ä–µ–∑ Xcode:
# 1. –û—Ç–∫—Ä—ã—Ç—å ios/Runner.xcworkspace
# 2. Product ‚Üí Archive
# 3. Distribute App ‚Üí App Store Connect
```

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**–§–∞–π–ª:** `pubspec.yaml`

```yaml
version: 2.1.78+105
#        ‚îÇ ‚îÇ ‚îÇ   ‚îî‚îÄ‚îÄ Build number (105)
#        ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Patch version
#        ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Minor version
#        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Major version
```

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏:**

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ build number
flutter build apk --build-number=106 --build-name=2.1.79
```

### Signing (–ø–æ–¥–ø–∏—Å—å)

#### Android

**–£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤:** `android/app/build.gradle`

```gradle
signingConfigs {
    release {
        storeFile file("key.keystore")
        storePassword "123456"  // ‚ö†Ô∏è –ò–∑–º–µ–Ω–∏—Ç—å –¥–ª—è production
        keyAlias "keyalias"
        keyPassword "123456"    // ‚ö†Ô∏è –ò–∑–º–µ–Ω–∏—Ç—å –¥–ª—è production
    }
}
```

**–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ keystore:**

```bash
keytool -genkey -v -keystore android/app/key.keystore \
  -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 \
  -alias keyalias
```

#### iOS

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Xcode:
1. Signing & Capabilities
2. –í—ã–±—Ä–∞—Ç—å Team
3. Automatic Signing

### –û–±—Ñ—É—Å–∫–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
# –° –æ–±—Ñ—É—Å–∫–∞—Ü–∏–µ–π –∫–æ–¥–∞
flutter build apk --release --obfuscate --split-debug-info=build/app/outputs/symbols

# –î–ª—è iOS
flutter build ios --release --obfuscate --split-debug-info=build/ios/outputs/symbols
```

### –†–∞–∑–º–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞:**

```bash
flutter build apk --analyze-size
flutter build appbundle --analyze-size
```

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--split-per-abi` –¥–ª—è APK
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ App Bundle –¥–ª—è Google Play
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (WebP —Ñ–æ—Ä–º–∞—Ç)
- –£–¥–∞–ª–∏—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã

---

## üêõ Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. Firebase initialization error

**–û—à–∏–±–∫–∞:**
```
[core/duplicate-app] A Firebase App named "[DEFAULT]" already exists
```

**–†–µ—à–µ–Ω–∏–µ:**
```dart
if (Firebase.apps.isEmpty) {
  await Firebase.initializeApp(
    options: DefaultFirebaseOptions.currentPlatform,
  );
}
```

#### 2. Gradle build fails (Android)

**–û—à–∏–±–∫–∞:**
```
FAILURE: Build failed with an exception.
```

**–†–µ—à–µ–Ω–∏—è:**
```bash
# 1. –û—á–∏—Å—Ç–∫–∞
cd android
./gradlew clean
cd ..

# 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Gradle wrapper
cd android
./gradlew wrapper --gradle-version 8.0
cd ..

# 3. –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–µ–π
flutter clean
flutter pub get
```

#### 3. CocoaPods issues (iOS)

**–û—à–∏–±–∫–∞:**
```
[!] CocoaPods could not find compatible versions for pod
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd ios
rm -rf Pods Podfile.lock
pod repo update
pod install
cd ..
```

#### 4. BLoC –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç UI

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```dart
// –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ State extends Equatable
class MyState extends Equatable {
  final List<Item> items;
  
  MyState(this.items);
  
  @override
  List<Object> get props => [items]; // ‚ö†Ô∏è –í–∞–∂–Ω–æ!
}

// –î–ª—è —Å–ø–∏—Å–∫–æ–≤ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–æ–≤—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã
emit(MyState([...items, newItem])); // ‚úÖ
emit(MyState(items..add(newItem))); // ‚ùå –ù–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
```

#### 5. API Connection issues

**–û—à–∏–±–∫–∞:**
```
SocketException: Failed host lookup
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –¥–æ–º–µ–Ω–∞
2. –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
3. Permissions –≤ AndroidManifest.xml:
   ```xml
   <uses-permission android:name="android.permission.INTERNET"/>
   ```

#### 6. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** Assets –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
```yaml
# pubspec.yaml
flutter:
  assets:
    - assets/icons/
    - assets/images/
    # –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø—É—Ç–∏
```

–ó–∞—Ç–µ–º:
```bash
flutter clean
flutter pub get
```

#### 7. Hot Reload –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. Restart (R –≤ –∫–æ–Ω—Å–æ–ª–∏)
# 2. Hot Restart (Shift+R)
# 3. –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
flutter run
```

#### 8. Memory leaks

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–æ—Ä–º–æ–∑–∏—Ç —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º

**–†–µ—à–µ–Ω–∏–µ:**
```dart
// Dispose –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
@override
void dispose() {
  _textController.dispose();
  _scrollController.dispose();
  super.dispose();
}

// –û—Ç–ø–∏—Å–∫–∞ –æ—Ç —Å—Ç—Ä–∏–º–æ–≤
StreamSubscription? _subscription;

@override
void dispose() {
  _subscription?.cancel();
  super.dispose();
}
```

#### 9. Push notifications –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç (iOS)

**–ß–µ–∫–ª–∏—Å—Ç:**
1. ‚úÖ Capabilities: Push Notifications –≤–∫–ª—é—á–µ–Ω—ã
2. ‚úÖ APNs –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Firebase Console
3. ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—à–µ–Ω—ã
4. ‚úÖ –†–µ–∞–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–Ω–µ —Å–∏–º—É–ª—è—Ç–æ—Ä)

#### 10. Build failed: Signing error (iOS)

**–†–µ—à–µ–Ω–∏–µ:**
1. Xcode ‚Üí Preferences ‚Üí Accounts ‚Üí Download Manual Profiles
2. Runner ‚Üí Signing & Capabilities ‚Üí Team (–≤—ã–±—Ä–∞—Ç—å)
3. –û—á–∏—Å—Ç–∏—Ç—å: Product ‚Üí Clean Build Folder

---

## üìù Code Style –∏ Best Practices

### Dart Style Guide

–°–ª–µ–¥—É–π—Ç–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º—É [Effective Dart](https://dart.dev/guides/language/effective-dart):

#### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ

```dart
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
class LeadBloc {} // PascalCase –¥–ª—è –∫–ª–∞—Å—Å–æ–≤
const int maxRetries = 3; // camelCase –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
void fetchLeads() {} // camelCase –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
enum LeadStatus { active, closed } // PascalCase –¥–ª—è enum, camelCase –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
class lead_bloc {}
const int MAX_RETRIES = 3;
void FetchLeads() {}
```

#### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ê–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
flutter format lib/

# –ü—Ä–æ–≤–µ—Ä–∫–∞
flutter analyze
```

#### Imports

```dart
// –ü–æ—Ä—è–¥–æ–∫:
// 1. Dart SDK
import 'dart:async';
import 'dart:convert';

// 2. Flutter SDK
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';

// 3. –°—Ç–æ—Ä–æ–Ω–Ω–∏–µ –ø–∞–∫–µ—Ç—ã
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:equatable/equatable.dart';

// 4. –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞
import '../../models/lead_model.dart';
import '../../bloc/lead/lead_bloc.dart';
```

### Flutter Best Practices

#### 1. Const –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã

```dart
// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ const –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
const Text('Hello');
const SizedBox(height: 16);
const EdgeInsets.all(8);

// ‚ùå –ò–∑–±–µ–≥–∞–π—Ç–µ
Text('Hello');
```

#### 2. Extract widgets

```dart
// ‚úÖ –í—ã–Ω–µ—Å–∏—Ç–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã
class LeadCard extends StatelessWidget {
  final Lead lead;
  const LeadCard({required this.lead});
  
  @override
  Widget build(BuildContext context) {
    return Card(...);
  }
}

// ‚ùå –ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –≤–∏–¥–∂–µ—Ç–æ–≤
Widget _buildLeadCard(Lead lead) { // –ü–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞
  return Card(...);
}
```

#### 3. Null safety

```dart
// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ null safety
String? nullableName;
String nonNullableName = 'John';

// –ü—Ä–æ–≤–µ—Ä–∫–∏
if (nullableName != null) {
  print(nullableName.length);
}

// –û–ø–µ—Ä–∞—Ç–æ—Ä—ã
final length = nullableName?.length ?? 0;
final upperCase = nullableName?.toUpperCase() ?? '';
```

#### 4. Async/Await

```dart
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
Future<void> loadData() async {
  try {
    final data = await apiService.fetchData();
    setState(() => _data = data);
  } catch (e) {
    print('Error: $e');
  }
}

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
Future<void> loadData() {
  apiService.fetchData().then((data) {
    setState(() => _data = data);
  }).catchError((e) {
    print('Error: $e');
  });
}
```

#### 5. Build method

```dart
// ‚úÖ –î–µ–ª–∞–π—Ç–µ build –º–µ—Ç–æ–¥ –ø—Ä–æ—Å—Ç—ã–º
@override
Widget build(BuildContext context) {
  return Scaffold(
    appBar: _buildAppBar(),
    body: _buildBody(),
  );
}

Widget _buildAppBar() => AppBar(title: Text('Title'));
Widget _buildBody() => ListView(...);

// ‚ùå –ù–µ –¥–µ–ª–∞–π—Ç–µ –≤—Å—é –ª–æ–≥–∏–∫—É –≤ build
@override
Widget build(BuildContext context) {
  final data = fetchData(); // ‚ùå –ù–µ –¥–µ–ª–∞–π—Ç–µ –∑–¥–µ—Å—å
  // 300 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞... ‚ùå
}
```

### BLoC Best Practices

#### 1. –û–¥–∏–Ω BLoC = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å

```dart
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
class LeadBloc {} // –¢–æ–ª—å–∫–æ –ª–∏–¥—ã
class DealBloc {} // –¢–æ–ª—å–∫–æ —Å–¥–µ–ª–∫–∏

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
class LeadAndDealBloc {} // –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
```

#### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Equatable

```dart
// ‚úÖ States —Å Equatable
class LeadLoaded extends LeadState {
  final List<Lead> leads;
  
  LeadLoaded(this.leads);
  
  @override
  List<Object> get props => [leads];
}
```

#### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```dart
on<FetchLeadsEvent>((event, emit) async {
  emit(LeadLoading());
  try {
    final leads = await apiService.getLeads();
    emit(LeadLoaded(leads));
  } on ApiException catch (e) {
    emit(LeadError(e.message));
  } catch (e) {
    emit(LeadError('Unexpected error'));
  }
});
```

### Git Best Practices

#### Commit messages

```bash
# –§–æ—Ä–º–∞—Ç: <type>: <description>

# –¢–∏–ø—ã:
feat: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
refactor: —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
docs: –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
style: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
test: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
chore: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

# –ü—Ä–∏–º–µ—Ä—ã:
git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω —ç–∫—Ä–∞–Ω —Å–æ–∑–¥–∞–Ω–∏—è –ª–∏–¥–∞"
git commit -m "fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —á–∞—Ç–æ–≤"
git commit -m "refactor: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω LeadBloc"
```

#### Branching

```bash
# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–µ—Ç–æ–∫:
main / master - production
develop - development
feature/<name> - –Ω–æ–≤—ã–µ —Ñ–∏—á–∏
bugfix/<name> - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
hotfix/<name> - —Å—Ä–æ—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

# –ü—Ä–∏–º–µ—Ä:
git checkout -b feature/add-lead-filters
git checkout -b bugfix/fix-chat-crash
```

---

## ü§ù Contributing

### –ü—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

1. **–°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É**
   ```bash
   git checkout -b feature/your-feature-name
   ```

2. **–í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**
   - –°–ª–µ–¥—É–π—Ç–µ code style
   - –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏
   - –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   ```bash
   flutter test
   flutter analyze
   ```

4. **Commit**
   ```bash
   git add .
   git commit -m "feat: –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
   ```

5. **Push**
   ```bash
   git push origin feature/your-feature-name
   ```

6. **Pull Request**
   - –û–ø–∏—à–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã (–¥–ª—è UI)
   - –£–ø–æ–º—è–Ω–∏—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ issues

### Code Review Guidelines

**–î–ª—è —Ä–µ–≤—å—é–µ—Ä–æ–≤:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ code style
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ null safety
- ‚úÖ –û—Ü–µ–Ω–∏—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ UX/UI

**–î–ª—è –∞–≤—Ç–æ—Ä–æ–≤:**
- ‚úÖ –ú–∞–ª–µ–Ω—å–∫–∏–µ, —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ PR
- ‚úÖ –û–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ commit messages
- ‚úÖ –¢–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**Company:** Softtech / Fingroup  
**Project:** ShamCRM Mobile  

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Flutter Documentation](https://docs.flutter.dev/)
- [Dart Documentation](https://dart.dev/guides)
- [Flutter BLoC Package](https://bloclibrary.dev/)
- [Firebase Documentation](https://firebase.google.com/docs)

### –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –±–∞–≥–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ:
1. **–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**
2. **–®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è**
3. **–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**
4. **–§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**
5. **–°–∫—Ä–∏–Ω—à–æ—Ç—ã/–≤–∏–¥–µ–æ** (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
6. **–õ–æ–≥–∏** (`flutter run --verbose`)
7. **–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
8. **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ –û–°**

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary - –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.  
–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

## üéì –î–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ü–µ—Ä–≤—ã–µ —à–∞–≥–∏

1. **–ò–∑—É—á–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É**
   - –ù–∞—á–Ω–∏—Ç–µ —Å `lib/main.dart`
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ `lib/screens/home_screen.dart`
   - –ò–∑—É—á–∏—Ç–µ –æ–¥–∏–Ω –º–æ–¥—É–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, Leads)

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ
   - –ü—Ä–æ–π–¥–∏—Ç–µ—Å—å –ø–æ –æ—Å–Ω–æ–≤–Ω—ã–º —ç–∫—Ä–∞–Ω–∞–º

3. **–ò–∑—É—á–∏—Ç–µ BLoC**
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [bloclibrary.dev](https://bloclibrary.dev)
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ `lib/bloc/lead/`
   - –ü–æ–π–º–∏—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω Event ‚Üí BLoC ‚Üí State

4. **–°–¥–µ–ª–∞–π—Ç–µ –ø—Ä–æ—Å—Ç—É—é –∑–∞–¥–∞—á—É**
   - –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ–ø–µ—á–∞—Ç–∫—É
   - –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –ø–µ—Ä–µ–≤–æ–¥
   - –ò–∑–º–µ–Ω–∏—Ç–µ —Ü–≤–µ—Ç –∫–Ω–æ–ø–∫–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —á—Ç–µ–Ω–∏–µ

- üìñ [Effective Dart](https://dart.dev/guides/language/effective-dart)
- üìñ [Flutter Architecture Samples](https://github.com/brianegan/flutter_architecture_samples)
- üìñ [BLoC Pattern Tutorial](https://bloclibrary.dev/#/gettingstarted)

### –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫
flutter run

# –û—á–∏—Å—Ç–∫–∞
flutter clean

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
flutter pub get

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
flutter pub run build_runner build --delete-conflicting-outputs

# –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
flutter analyze

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
flutter format lib/

# –°–±–æ—Ä–∫–∞ APK
flutter build apk --release

# –õ–æ–≥–∏
flutter logs

# –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
flutter devices
```

---

## üöÄ Roadmap (–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è)

- [ ] Unit —Ç–µ—Å—Ç—ã (target: 80% coverage)
- [ ] Widget —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤
- [ ] Integration —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–ª–æ—É
- [ ] CI/CD pipeline (GitHub Actions / GitLab CI)
- [ ] Crashlytics –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—à–∏–±–æ–∫
- [ ] Analytics (Firebase Analytics / Amplitude)
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
- [ ] Offline mode —Å sync
- [ ] Web –≤–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –î–µ–∫–∞–±—Ä—å 2025  
**–ê–∫—Ç—É–∞–ª—å–Ω–æ –¥–ª—è –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** 2.1.78+105  

---

> üí° **–°–æ–≤–µ—Ç:** –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç README –≤ –∑–∞–∫–ª–∞–¥–∫–∏ –∏ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –Ω–µ–º—É –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ –º–µ—Ä–µ —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞.

**–£–¥–∞—á–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! üöÄ**
